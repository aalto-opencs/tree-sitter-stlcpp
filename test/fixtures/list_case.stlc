// Test list case analysis (lcase)
length : [Int] -> Int
length = fun xs : [Int], lcase xs of
    | nil => 0
    | cons x xs => 1

// Test with multiline arms
head : [Int] -> (Unit + Int)
head = fun xs : [Int], lcase xs of
    | nil =>
        inl () (Unit + Int)
    | cons x xs =>
        inr x Unit

// Test nested lcase
concat : [Int] -> [Int] -> [Int]
concat = fun xs : [Int], fun ys : [Int], lcase xs of
    | nil => ys
    | cons x xs => x
